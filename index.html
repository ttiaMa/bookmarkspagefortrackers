<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>multi-website torrent search</title>
    <link rel="stylesheet" href="style.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>

<div class="search-container">
    <input type="text" id="searchInput" placeholder="Search...">
    <button onclick="reloadPage()">Load query into cards</button>
    <button id="openUrlsButton" onclick="openURLsInNewPage()" style="background-color: #ff6666; font-style: italic;">Aprituttoâ„¢</button>
</div>

<div class="title" style="margin-top:3em">private trackers</div>
   
<div id="first-card-container" class="card-container"></div>

<div class="title">public trackers</div>

<div id="second-card-container" class="card-container"></div>
    
<script>
    function getSearch() {
        var searchText = document.getElementById("searchInput").value;
        return searchText;
    }

    function reloadPage() {
        location.reload();
    }	

    const firstSetData = [
        {
            url: "https://blutopia.cc/torrents?view=list&name=" + getSearch(),
            name: "Blutopia",
            description: "full discs and remuxes",
            color: "#0066cc",
	    includeSearchIcon: true,
	    includeFireIcon: true
        },
        {
            url: "https://www.torrentleech.org/torrents/browse/index/query/" + getSearch(),
            name: "TorrentLeech",
            description: "general tracker",
            color: "#00802b",
	    includeSearchIcon: true,
	    includeFireIcon: true
        },
        {
            url: "https://filelist.io/browse.php?search=" + getSearch() + "&cat=0&searchin=1&sort=2",
            name: "FileList",
            description: "general tracker",
            color: "#264d73",
	    includeSearchIcon: true,
	    includeFireIcon: true
        },
	{
            url: "https://avistaz.to/torrents?in=1&search=" + getSearch() + "&type=0&tags=&uploader=",
            name: "AvistaZ",
            description: "asian content",
            color: "#ff6600",
	    includeSearchIcon: true,
	    includeFireIcon: false
        },
        {
            url: "https://jptv.club/torrents",
            name: "JPTV",
            description: "japanese content",
            color: "#001a4d",
	    includeSearchIcon: false,
	    includeFireIcon: false
        },
        {
            url: "https://asiancinema.me/torrents",
            name: "AsianCinema",
            description: "asian content",
            color: "#4d004d",
	    includeSearchIcon: false,
	    includeFireIcon: false
        },
	{
            url: "https://cinemaz.to/torrents?in=1&search=" + getSearch() + "&type=0&tags=&uploader=",
            name: "CinemaZ",
            description: "international movies",
            color: "#000000",
	    includeSearchIcon: true,
	    includeFireIcon: false
        },
        {
            url: "https://animetorrents.me/torrents.php?search=" + getSearch(),
            name: "AnimeTorrents",
            description: "weeb shit",
            color: "#990000",
	    includeSearchIcon: true,
	    includeFireIcon: false
        },
        {
            url: "https://hawke.uno/torrents?perPage=25&name=" + getSearch(),
            name: "hawke",
            description: "x256 encoded movies",
            color: "#ff8080",
	    includeSearchIcon: true,
	    includeFireIcon: true
        },
	{
            url: "https://jpopsuki.eu/torrents.php?searchstr=" + getSearch(),
            name: "JPopsuki",
            description: "japanese music",
            color: "#99d6ff",
	    includeSearchIcon: true,
	    includeFireIcon: false
        },
        {
            url: "https://fearnopeer.com/torrents?perPage=50&name=" + getSearch(),
            name: "FNP",
            description: "general tracker",
            color: "#000000",
	    includeSearchIcon: true,
	    includeFireIcon: false
        },
        {
            url: "https://aither.cc/torrents?view=list&name=" + getSearch(),
            name: "Aither",
            description: "movies/tv tracker, small",
            color: "#003333",
	    includeSearchIcon: true,
	    includeFireIcon: false
        },
	{
            url: "https://upload.cx/torrents?perPage=25&name=" + getSearch(),
            name: "ULCX",
            description: "movies/tv tracker, small",
            color: "#ffffff",
	    includeSearchIcon: true,
	    includeFireIcon: false
        },
        {
            url: "https://digitalcore.club/search?search=" + getSearch(),
            name: "DigitalCore",
            description: "general tracker + 3d movies",
            color: "#5c85d6",
	    includeSearchIcon: true,
	    includeFireIcon: false
        }
        // Add more card objects as needed
    ];

const secondSetData = [
        {
            url: "https://ext.to/search/?order=size&sort=desc&q=" + getSearch(),
            name: "EXT",
            description: "search multiple public trackers",
            color: "#0066cc",
	    includeSearchIcon: true,
	    includeFireIcon: false
        },
	{
            url: "https://mircrew-releases.org/search.php?keywords=" + getSearch() + "&sf=titleonly&sr=topics",
            name: "MIRCrew",
            description: "italian forum",
            color: "#0066cc",
	    includeSearchIcon: true,
	    includeFireIcon: false
        }
   ];

document.addEventListener("DOMContentLoaded", function() {
    const firstContainer = document.getElementById('first-card-container');
    const secondContainer = document.getElementById('second-card-container');

    // Function to generate cards
    function generateCards(container, data) {
        data.forEach(card => {
            const cardElement = document.createElement('a');
            cardElement.setAttribute('href', card.url);
            cardElement.setAttribute('class', 'card');
            cardElement.setAttribute('target', '_blank');
            cardElement.setAttribute('data-color', card.color);
            cardElement.setAttribute('style', `background-color: ${card.color};`);

            const contentElement = document.createElement('div');
            contentElement.setAttribute('class', 'card-content');

	    if (card.includeSearchIcon) { // Check if the icon should be included
                 const iconElement = document.createElement('i');
   		 iconElement.setAttribute('class', 'fas fa-search'); // Font Awesome magnifier icon
 	         iconElement.style.color = 'white';
 	         contentElement.appendChild(iconElement); // Append the icon to the content
            }

		// Include Fire Icon if specified
       if (card.includeFireIcon) {
       	     const fireIconElement = document.createElement('y');
      	      fireIconElement.setAttribute('class', 'fas fa-fire'); // Font Awesome fire icon
            fireIconElement.style.color = 'orange';
            fireIconElement.style.marginLeft = '8px'; // Spacing between icons
            contentElement.appendChild(fireIconElement);
        }

            const titleElement = document.createElement('h3');
            titleElement.textContent = card.name;

            const descriptionElement = document.createElement('p');
            descriptionElement.textContent = card.description;

            contentElement.appendChild(titleElement);
            contentElement.appendChild(descriptionElement);

            cardElement.appendChild(contentElement);

            container.appendChild(cardElement);
        });
    }
    // Generate cards for the first set
    generateCards(firstContainer, firstSetData);

    // Generate cards for the second set
    generateCards(secondContainer, secondSetData);
});


// Function to open all movie links at once

function openURLsInNewPageWithIcons(container) {
    const cardElements = container.querySelectorAll('.card');
    const urlsToOpen = [];

    cardElements.forEach(cardElement => {
        const includeFireIcon = cardElement.querySelector('y') // get bolean value

        if (includeFireIcon) {
            const url = cardElement.href;
            if (!urlsToOpen.includes(url)) {
                urlsToOpen.push(url);
            }
        }
    });

    // Remove duplicates from the array
    const uniqueUrlsToOpen = Array.from(new Set(urlsToOpen));

    // Reverse the order of URLs
    uniqueUrlsToOpen.reverse();

    // Open each unique URL
    uniqueUrlsToOpen.forEach(url => {
        window.open(url, '_blank');
    });
}

function openURLsInNewPage() {
        openURLsInNewPageWithIcons(document.getElementById('second-card-container'));
	openURLsInNewPageWithIcons(document.getElementById('first-card-container'));
    }

</script>

</body>
</html>
