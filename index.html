<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>multi-website torrent search</title>
    <link rel="stylesheet" href="style.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>

<div class="search-container">
    <input type="text" id="searchInput" placeholder="Search...">
    <button onclick="reloadPage()">Load query into cards</button>
    <button 
    id="openUrlsButton" 
    onclick="openURLsInNewPage()" 
    data-tooltip="this will open search queries for all the fire icon sites. enable pop-ups.">Aprituttoâ„¢</button>
</div>

<div class="title" style="margin-top:3em">mathya's private trackers</div>
   
<div id="first-card-container" class="card-container"></div>

<div class="title">public trackers</div>

<div id="second-card-container" class="card-container"></div>
    
<script>
    function getSearch() {
        var searchText = document.getElementById("searchInput").value;
        return searchText;
    }

    function reloadPage() {
        location.reload();
    }	

    const firstSetData = [
        {
            url: "https://aither.cc/torrents?view=list&name=" + getSearch(),
            name: "Aither",
            shortcut:"ATH",
            internals: "Kitsune,  ATELiER, NAN0",
            description: "rising movies/tv tracker",
            color: "#003333",
	        includeSearchIcon: true,
	        includeFireIcon: true
        },
        {
            url: "https://blutopia.cc/torrents?view=list&name=" + getSearch(),
            name: "Blutopia",
            shortcut:"BLU",
            internals: "BLURANiUM, ZoroSenpai",
            description: "movies/tv, lots of full discs",
            color: "#0066cc",
	        includeSearchIcon: true,
	        includeFireIcon: true
        },
        {
            url: "https://hawke.uno/torrents?perPage=25&name=" + getSearch(),
            name: "hawke",
            shortcut:"HUNO",
            internals: "HONE",
            description: "crispy x265 encodes",
            color: "#ff8080",
	        includeSearchIcon: true,
	        includeFireIcon: true
        },
        {
            url: "https://seedpool.org/torrents?name=" + getSearch(),
            name: "seedpool",
            shortcut:"SP",
            description: "rising general tracker",
            color: "#3e3db4",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
	    {
            url: "https://avistaz.to/torrents?in=1&search=" + getSearch() + "&type=0&tags=&uploader=",
            name: "AvistaZ",
            shortcut:"AZ",
            description: "asian content",
            color: "#ff6600",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
        {
            url: "https://eiga.moi/",
            name: "AsianCinema",
            shortcut:"ACM",
            description: "asian content",
            color: "#7209B7",
	        includeSearchIcon: false,
	        includeFireIcon: false
        },
    	{
            url: "https://cinemaz.to/torrents?in=1&search=" + getSearch() + "&type=0&tags=&uploader=",
            name: "CinemaZ",
            shortcut:"CZ",
            description: "international movies",
            color: "#4e4e4e",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
        {
            url: "https://secret-cinema.pw/torrents.php?groupname=" + getSearch(),
            name: "Secret Cinema",
            shortcut:"SC",
            description: "non-mainstream movies",
            color: "#4e4e4e",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
        {
            url: "https://orpheus.network/torrents.php?searchstr=" + getSearch(),
            name: "Orpheus",
            shortcut:"OPS",
            description: "music tracker",
            color: "#049676",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
        {
            url: "https://redacted.sh/torrents.php?searchstr=" + getSearch(),
            name: "Redacted",
            shortcut:"RED",
            description: "music tracker",
            color: "#e35151",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
    	{
            url: "https://www.myanonamouse.net/tor/browse.php?tor%5Btext%5D=" + getSearch(),
            name: "MyAnonaMouse",
            shortcut:"MAM",
            description: "books and audiobooks",
            color: "#372816",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
    	{
            url: "https://sportscult.org/index.php?page=torrents&search=" + getSearch() + "&category=0&active=1&gold=0",
            name: "Sportscult",
            shortcut:"SC",
            description: "sports events, live tv",
            color: "#f25a25",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
        {
            url: "https://animebytes.vt/torrents.php?search=" + getSearch(),
            name: "AnimeBytes",
            shortcut:"AB",
            description: "weeb shit",
            color: "#EC0F69",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
        {
            url: "https://animetorrents.me/torrents.php?search=" + getSearch(),
            name: "AnimeTorrents",
            shortcut:"AT",
            description: "weeb shit",
            color: "#C1121F",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
        {
            url: "https://upload.cx/torrents?perPage=25&name=" + getSearch(),
            name: "upload.cx",
            shortcut:"UCLX",
            internals:"BLOOM",
            description: "movies/tv tracker",
            color: "#708090",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
        {
            url: "https://filelist.io/browse.php?search=" + getSearch() + "&cat=0&searchin=1&sort=2",
            name: "FileList",
            shortcut:"FL",
            internals: "playWEB",
            description: "general tracker",
            color: "#264d73",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
        {
            url: "https://www.torrentleech.org/torrents/browse/index/query/" + getSearch(),
            name: "TorrentLeech",
            shortcut:"TL",
            description: "general tracker",
            color: "#00802b",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
        {
            url: "https://fearnopeer.com/torrents?perPage=50&name=" + getSearch(),
            name: "FearNoPeer",
            shortcut:"FNP",
            description: "general tracker",
            color: "#1e6d7c",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
        {
            url: "https://digitalcore.club/search?search=" + getSearch(),
            name: "DigitalCore",
            shortcut:"DC",
            description: "general tracker",
            color: "#9b9b9b",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
        {
            url: "https://lst.gg/torrents?name=" + getSearch(),
            name: "LST",
            shortcut:"LST",
            description: "general tracker + gambling",
            color: "#1F2A31",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
        /*{
            url: "https://onlyencodes.cc/torrents?name=" + getSearch(),
            name: "OnlyEncodes",
            shortcut:"OE",
            description: "encodes, duh",
            color: "#FEAB32",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },*/
	    {
            url: "https://shareisland.org/torrents?name=" + getSearch(),
            name: "ShareIsland",
            shortcut:"SHR",
            internals:"iSlaNd, ZioRip",
            description: "general italian tracker",
            color: "#d7bc9e",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
	    {
            url: "https://itatorrents.xyz/torrents?view=list&name=" + getSearch(),
            name: "ItaTorrents",
            shortcut:"ITT",
            description: "italian tracker for movies/tv",
            color: "#947fb5",
	        includeSearchIcon: true,
	        includeFireIcon: false
        }
    ];

const secondSetData = [ 
    {
            url: "https://ext.to/browse/?q=" + getSearch(),
            name: "ext.to",
            description: "public trackers indexer",
            color: "#188FF3",
	        includeSearchIcon: true,
	        includeFireIcon: true
        },
	{
            url: "https://nyaa.si/?f=0&c=0_0&q=" + getSearch(),
            name: "Nyaa",
            description: "weeb shit",
            color: "#2083ed",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
    {
            url: "https://1337x.to/search/" + getSearch() + "/1/",
            name: "1337x.to",
            description: "general tracker",
            color: "#E8693D",
	        includeSearchIcon: true,
	        includeFireIcon: false
        }, 
	{
            url: "https://milkie.cc/browse?query=" + getSearch() + "&oby=created_at&odir=desc&pi=0&ps=50",
            name: "milkie",
            description: "general tracker, no retention",
            color: "#fd7d79",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
	{
            url: "https://mircrew-releases.org/search.php?keywords=" + getSearch() + "&sf=titleonly&sr=topics",
            name: "MIRCrew",
            description: "italian forum",
            color: "#0adbc3",
	        includeSearchIcon: true,
	        includeFireIcon: false
        },
	{
            url: "https://www.icv-crew.com/forum/index.php",
            name: "iCV-CREW",
            description: "italian forum",
            color: "#7ec051",
	        includeSearchIcon: false,
	        includeFireIcon: false
        },
	{
            url: "https://www.teamos.xyz/torrents/?filename=" + getSearch(),
            name: "Team OS",
            description: "warez",
            color: "#2374dd",
	        includeSearchIcon: true,
	        includeFireIcon: false
        }
   ];

document.addEventListener("DOMContentLoaded", function() {
    const firstContainer = document.getElementById('first-card-container');
    const secondContainer = document.getElementById('second-card-container');

    function generateCards(container, data) {
        // Get current search value
        const currentSearch = document.getElementById("searchInput").value;

        data.forEach(card => {
            const cardElement = document.createElement('a');
            
            // --- LOGIC: Handle Empty Search (Go to main domain) ---
            let finalUrl = card.url;
            if (!currentSearch || currentSearch.trim() === "") {
                try {
                    finalUrl = new URL(card.url).origin;
                } catch (error) {
                    console.error("Could not parse URL for " + card.name);
                }
            }
            cardElement.setAttribute('href', finalUrl);

            cardElement.setAttribute('class', 'card');
            cardElement.setAttribute('target', '_blank');
            cardElement.setAttribute('data-color', card.color);
            cardElement.setAttribute('style', `background-color: ${card.color};`);

            // --- LOGIC: Handle Shortcut (NEW) ---
            if (card.shortcut) {
                const shortcutElement = document.createElement('div');
                shortcutElement.className = 'card-shortcut';
                shortcutElement.textContent = card.shortcut;
                cardElement.appendChild(shortcutElement);
            }
            // ------------------------------------

            const contentElement = document.createElement('div');
            contentElement.setAttribute('class', 'card-content');

            // Add Search Icon
            if (card.includeSearchIcon) {
                 const iconElement = document.createElement('i');
                 iconElement.setAttribute('class', 'fas fa-search');
                 iconElement.style.color = 'white';
                 contentElement.appendChild(iconElement);
            }

            // Add Fire Icon
            if (card.includeFireIcon) {
                 const fireIconElement = document.createElement('y'); 
                 fireIconElement.setAttribute('class', 'fas fa-fire');
                 fireIconElement.style.color = 'orange';
                 fireIconElement.style.marginLeft = '8px';
                 contentElement.appendChild(fireIconElement);
            }

            const titleElement = document.createElement('h3');
            // Add the main name as a text node
            titleElement.appendChild(document.createTextNode(card.name));

            // --- LOGIC: Handle "internals" Field ---
            if (card.internals) {
                const internalspan = document.createElement('span');
                internalspan.textContent = card.internals;
                
                // Styling for the smaller font
                internalspan.style.fontSize = "0.6em"; 
                internalspan.style.marginLeft = "8px"; 
                internalspan.style.opacity = "0.8"; // Make it slightly transparent
                internalspan.style.fontWeight = "400"; // Less bold
                
                titleElement.appendChild(internalspan);
            }
            // ---------------------------------------

            const descriptionElement = document.createElement('p');
            descriptionElement.textContent = card.description;

            contentElement.appendChild(titleElement);
            contentElement.appendChild(descriptionElement);

            cardElement.appendChild(contentElement);

            container.appendChild(cardElement);
        });
    }

    // Generate cards for the first set
    generateCards(firstContainer, firstSetData);

    // Generate cards for the second set
    generateCards(secondContainer, secondSetData);
});


// Function to open all movie links at once

function openURLsInNewPageWithIcons(container) {
    const cardElements = container.querySelectorAll('.card');
    const urlsToOpen = [];

    cardElements.forEach(cardElement => {
        const includeFireIcon = cardElement.querySelector('y') // get bolean value

        if (includeFireIcon) {
            const url = cardElement.href;
            if (!urlsToOpen.includes(url)) {
                urlsToOpen.push(url);
            }
        }
    });

    // Remove duplicates from the array
    const uniqueUrlsToOpen = Array.from(new Set(urlsToOpen));

    // Reverse the order of URLs
    uniqueUrlsToOpen.reverse();

    // Open each unique URL
    uniqueUrlsToOpen.forEach(url => {
        window.open(url, '_blank');
    });
}

function openURLsInNewPage() {
    openURLsInNewPageWithIcons(document.getElementById('second-card-container'));
	openURLsInNewPageWithIcons(document.getElementById('first-card-container'));
    }

</script>

</body>
</html>
